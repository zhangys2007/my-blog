(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{729:function(e,n,r){e.exports=r.p+"assets/img/20240108.165c89ab.jpg"},757:function(e,n,r){"use strict";r.r(n);var t=r(5),o=Object(t.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"å¼•å­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¼•å­"}},[e._v("#")]),e._v(" å¼•å­")]),e._v(" "),t("p",[e._v("NSTimer æ˜¯ iOS Foundation æ¡†æ¶ä¸­ä¸€ç§è®¡æ—¶å™¨ï¼Œåœ¨ç»è¿‡ä¸€å®šçš„æ—¶é—´é—´éš”åè§¦å‘ï¼Œå‘ç›®æ ‡å¯¹è±¡å‘é€æŒ‡å®šçš„æ¶ˆæ¯ã€‚")]),e._v(" "),t("p",[e._v("æœ¬æ–‡ä»¥æ ‡é¢˜ä¸ºä¸»çº¿ï¼Œæ¢ç©¶ NSTimer ä¸ Runloop ä¹‹é—´çš„å…³ç³»ã€‚")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬å…ˆçœ‹ä¸‹é¢è¿™æ®µä»£ç çš„è¿è¡Œï¼š")]),e._v(" "),t("img",{attrs:{src:r(729),width:"100%"}}),e._v(" "),t("p",[e._v("åœºæ™¯ï¼š")]),e._v(" "),t("p",[e._v("ViewController --Present-> SecondViewControllerã€‚å…¶ä¸­ Manager å®ä¾‹ä¼šæŒæœ‰ Blockã€‚\nSecondViewController ä¸­æœ‰ä¸¤ä¸ªç‚¹å‡»æŒ‰é’®ï¼Œtest1 æŒ‰é’®å’Œ test2 æŒ‰é’®\nåˆ†åˆ«è°ƒåº¦æ–¹æ³• -didTapTest1: ä¸ -didTapTest2:")]),e._v(" "),t("p",[e._v("æµç¨‹ï¼š")]),e._v(" "),t("ol",[t("li",[e._v("ç‚¹å‡» xx æŒ‰é’®ï¼›")]),e._v(" "),t("li",[e._v("ç­‰å¾…æ•°ç§’ï¼Œæ‰“å° block ä¸­çš„å†…å®¹ï¼›")]),e._v(" "),t("li",[e._v("å…³é—­ SecondViewController æ§åˆ¶å™¨ï¼›")])]),e._v(" "),t("p",[e._v("ç‚¹å‡» test1 æŒ‰é’®æ‰§è¡Œæµç¨‹ï¼Œæ‰“å°ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("2023-01-25 16:59:08.712191+0800 BlockMemoryLeaks[27573:1465591] Manager: <Manager: 0x6000002e40c0>\n")])])]),t("p",[e._v("ç‚¹å‡» test2 æŒ‰é’®æ‰§è¡Œæµç¨‹ï¼Œæ‰“å°ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("2023-01-25 17:01:47.305332+0800 BlockMemoryLeaks[27622:1467958] Timer: <__NSCFTimer: 0x6000000400c0>\n2023-01-25 17:01:48.305246+0800 BlockMemoryLeaks[27622:1467958] Timer: <__NSCFTimer: 0x6000000400c0>\n2023-01-25 17:01:49.141697+0800 BlockMemoryLeaks[27622:1467958] SecondViewController dealloc\n")])])]),t("p",[e._v("test1 Manager å’Œé¢„æœŸä¸€æ ·ï¼ŒManager -> Blockï¼ŒBlock -> selfï¼Œself -> Managerï¼Œé€ æˆäº†å¾ªç¯å¼•ç”¨ã€‚")]),e._v(" "),t("p",[e._v("è€Œ test2 NSTimer è™½ç„¶è¢« self æŒæœ‰ï¼Œè¿™ä¸ª Block ä¹Ÿæ•è·äº† selfï¼Œä½†è¿™å¹¶æ²¡æœ‰è§¦å‘å¾ªç¯å¼•ç”¨ã€‚")]),e._v(" "),t("h2",{attrs:{id:"nstimer-ä¸-runloop"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nstimer-ä¸-runloop"}},[e._v("#")]),e._v(" NSTimer ä¸ Runloop")]),e._v(" "),t("p",[e._v("åœ¨è‹¹æœå…³äº NSTimer æ–‡æ¡£ä¸­æœ‰æè¿°ï¼ŒNSTimer å’Œ CFRunLoopTimerRef æ˜¯ toll-free bridged çš„ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("NSTimer is toll-free bridged with its Core Foundation counterpart, CFRunLoopTimerRef.\n")])])]),t("p",[e._v("NSTimer æ˜¯ä¸­é—´æ¡¥æ¥å±‚ï¼Œæ„å‘³ç€å…¶å®å®šæ—¶å™¨è¿ä½œæ˜¯äº¤ç»™ Runloop å¤„ç†çš„ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("typedef struct CF_BRIDGED_MUTABLE_TYPE(NSTimer) __CFRunLoopTimer * CFRunLoopTimerRef;\n")])])]),t("p",[e._v("å³ä¾¿æ˜¯ NSTimer æ˜¯ä¸­é—´å±‚ï¼Œå¦‚æœåº•å±‚ Timer æŒæœ‰äº† Blockï¼Œè¿˜æ˜¯å­˜åœ¨å¾ªç¯å¼•ç”¨ã€‚æ¥ç€é˜…è¯» Runloop ä»£ç æ¥æ‰¾åˆ°æ ‡é¢˜é—®é¢˜çš„ç­”æ¡ˆã€‚")]),e._v(" "),t("h3",{attrs:{id:"runloop-çš„-mode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#runloop-çš„-mode"}},[e._v("#")]),e._v(" RunLoop çš„ Mode")]),e._v(" "),t("p",[e._v("CFRunloop ä¸ CFRunloop Mode çš„å¤§è‡´ç»“æ„å¦‚ä¸‹ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("struct __CFRunLoopMode {\n    CFStringRef _name;            \n    CFMutableSetRef _sources0;    \n    CFMutableSetRef _sources1;    \n    CFMutableArrayRef _observers;\n    CFMutableArrayRef _timers;    \n    // ...\n};\n\nstruct __CFRunLoop {\n    CFRuntimeBase _base;\n    CFMutableSetRef _commonModes;   \n    CFMutableSetRef _commonModeItems;\n    CFRunLoopModeRef _currentMode;  \n    CFMutableSetRef _modes;         \n    // ...\n};\n")])])]),t("p",[e._v("ä¸€ä¸ª CFRunLoop ä¸­åŒ…å«è‹¥å¹²ä¸ª CFRunLoopModeï¼ŒCFRunLoopTimer åˆ™è¢«æ³¨å†Œåœ¨ mode ä¸‹ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("struct __CFRunLoopTimer {\n    CFRuntimeBase _base;\n    uint16_t _bits;\n    pthread_mutex_t _lock;\n    CFRunLoopRef _runLoop;\n    CFMutableSetRef _rlModes;\n    CFAbsoluteTime _nextFireDate;\n    CFTimeInterval _interval;\t\t/* immutable */\n    CFTimeInterval _tolerance;          /* mutable */\n    uint64_t _fireTSR;\t\t\t/* TSR units */\n    CFIndex _order;\t\t\t/* immutable */\n    CFRunLoopTimerCallBack _callout;\t/* immutable */\n    CFRunLoopTimerContext _context;\t/* immutable, except invalidation */\n};\n")])])]),t("p",[e._v("CFRunLoopTimer åŒ…å«ä¸€ä¸ªæ—¶é—´é•¿åº¦å’Œä¸€ä¸ªå›è°ƒï¼Œæ ‡è®°äº†å®ƒæ‰€åœ¨çš„ runloop modeã€‚")]),e._v(" "),t("h3",{attrs:{id:"ä»æ·»åŠ -timer-å¼€å§‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»æ·»åŠ -timer-å¼€å§‹"}},[e._v("#")]),e._v(" ä»æ·»åŠ  Timer å¼€å§‹")]),e._v(" "),t("p",[e._v("å…ˆçœ‹ CFRunLoopAddTimer æ–¹æ³•")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("void CFRunLoopAddTimer(CFRunLoopRef rl, CFRunLoopTimerRef rlt, CFStringRef modeName) {    \n    CHECK_FOR_FORK();\n    if (__CFRunLoopIsDeallocating(rl)) return;\n    if (!__CFIsValid(rlt) || (NULL != rlt->_runLoop && rlt->_runLoop != rl)) return;\n    __CFRunLoopLock(rl);\n    if (modeName == kCFRunLoopCommonModes) {\n        /* Mode æ˜¯ CommonModes */\n        CFSetRef set = rl->_commonModes ? CFSetCreateCopy(kCFAllocatorSystemDefault, rl->_commonModes) : NULL;\n        if (NULL == rl->_commonModeItems) {\n            rl->_commonModeItems = CFSetCreateMutable(kCFAllocatorSystemDefault, 0, &kCFTypeSetCallBacks);\n        }\n        CFSetAddValue(rl->_commonModeItems, rlt);\n        if (NULL != set) {\n            CFTypeRef context[2] = {rl, rlt};\n            /* å°† Timer åŠ å…¥åˆ°æ‰€æœ‰ Common Mode ä¸­ */\n            CFSetApplyFunction(set, (__CFRunLoopAddItemToCommonModes), (void *)context);\n            CFRelease(set);\n        }\n    } else {\n        /* Mode æ˜¯æŒ‡å®š Mode */\n        CFRunLoopModeRef rlm = __CFRunLoopFindMode(rl, modeName, true);\n        if (NULL != rlm) {\n            if (NULL == rlm->_timers) {\n                CFArrayCallBacks cb = kCFTypeArrayCallBacks;\n                cb.equal = NULL;\n                rlm->_timers = CFArrayCreateMutable(kCFAllocatorSystemDefault, 0, &cb);\n            }\n        }\n        if (NULL != rlm && !CFSetContainsValue(rlt->_rlModes, rlm->_name)) {\n            __CFRunLoopTimerLock(rlt);\n            if (NULL == rlt->_runLoop) {\n                // æ ‡è®° Timer å¯¹åº”çš„ Runloop\n                rlt->_runLoop = rl;\n            } else if (rl != rlt->_runLoop) {\n                __CFRunLoopTimerUnlock(rlt);\n                __CFRunLoopModeUnlock(rlm);\n                __CFRunLoopUnlock(rl);\n                return;\n            }\n            // æ ‡è®° Timer å¯¹åº”çš„ Runloop Mode\n            CFSetAddValue(rlt->_rlModes, rlm->_name);\n            __CFRunLoopTimerUnlock(rlt);\n            __CFRunLoopTimerFireTSRLock();\n            /* é‡æ–°æ’åºæŒ‡å®š Mode ä¸­çš„å„ä¸ª Timer */\n            __CFRepositionTimerInMode(rlm, rlt, false);\n            __CFRunLoopTimerFireTSRUnlock();\n            if (!_CFExecutableLinkedOnOrAfter(CFSystemVersionLion)) {\n                if (rl != CFRunLoopGetCurrent()) CFRunLoopWakeUp(rl);\n            }\n        }\n        if (NULL != rlm) {\n            __CFRunLoopModeUnlock(rlm);\n        }\n    }\n    __CFRunLoopUnlock(rl);\n}\n")])])]),t("p",[e._v("CFRunLoopAddTimer("),t("em",[e._v(":")]),e._v(":"),t("em",[e._v("ğŸ˜ƒ å°† Timer æ·»åŠ åˆ° Runloop çš„æŒ‡å®š Mode ä¸‹ã€‚å¦‚æœè¢«æ·»åŠ çš„æ˜¯ commonModes åˆ™éå†æ‰€æœ‰ commonMode è°ƒç”¨ CFRunLoopAddTimer(")]),e._v(":"),t("em",[e._v(":")]),e._v("ğŸ˜ƒ æ–¹æ³•ã€‚ç„¶åè°ƒç”¨ __CFRepositionTimerInMode å‡½æ•°æ’åºï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("static void __CFRepositionTimerInMode(CFRunLoopModeRef rlm, CFRunLoopTimerRef rlt, Boolean isInArray) {\n    if (!rlt) return;\n    // æ‹¿åˆ° Mode ä¸‹æ‰€æœ‰ timer\n    CFMutableArrayRef timerArray = rlm->_timers;\n    if (!timerArray) return;\n    Boolean found = false;\n    if (isInArray) {\n        CFIndex idx = CFArrayGetFirstIndexOfValue(timerArray, CFRangeMake(0, CFArrayGetCount(timerArray)), rlt);\n        if (kCFNotFound != idx) {\n            CFRetain(rlt);\n            CFArrayRemoveValueAtIndex(timerArray, idx);\n            found = true;\n        }\n    }\n    if (!found && isInArray) return;\n    // äºŒåˆ†æ³•ç¡®å®šä½ç½®ï¼Œæ’å…¥æœ‰åºæ•°ç»„\n    CFIndex newIdx = __CFRunLoopInsertionIndexInTimerArray(timerArray, rlt);\n    CFArrayInsertValueAtIndex(timerArray, newIdx, rlt);\n    // \n    __CFArmNextTimerInMode(rlm, rlt->_runLoop);\n    if (isInArray) CFRelease(rlt);\n}\n")])])]),t("p",[e._v("__CFRepositionTimerInMode æ–¹æ³•ä»¥è§¦å‘æ—¶é—´ _fireTSR ä»å°åˆ°å¤§æ’åº rlm->timers Mode çš„ timers æ•°ç»„ã€‚\næ’åºå®Œæˆåè°ƒç”¨ __CFArmNextTimerInMode é‡æ–°æ³¨å†Œæœ€æ—©åº”è¯¥è¢«è§¦å‘çš„ timer")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("static void __CFArmNextTimerInMode(CFRunLoopModeRef rlm, CFRunLoopRef rl) {    \n    uint64_t nextHardDeadline = UINT64_MAX;\n    uint64_t nextSoftDeadline = UINT64_MAX;\n    if (rlm->_timers) {\n        // ä¿®æ­£ tolerance å€¼ï¼Œç¡®ä¿æ—¶é—´æœ€è¿‘çš„ timer + tolerance å¤§äºå…¶ä»– Timer æ—¶ï¼Œä¸å½±å“å…¶ä»– Timer è§¦å‘\n        for (CFIndex idx = 0, cnt = CFArrayGetCount(rlm->_timers); idx < cnt; idx++) {\n            CFRunLoopTimerRef t = (CFRunLoopTimerRef)CFArrayGetValueAtIndex(rlm->_timers , idx);\n            if (__CFRunLoopTimerIsFiring(t)) continue;\n            int32_t err = CHECKINT_NO_ERROR;\n            uint64_t oneTimerSoftDeadline = t->_fireTSR;\n            uint64_t oneTimerHardDeadline = check_uint64_add(t->_fireTSR, __CFTimeIntervalToTSR(t->_tolerance), &err);\n            if (err != CHECKINT_NO_ERROR) oneTimerHardDeadline = UINT64_MAX;    \n\n            if (oneTimerSoftDeadline > nextHardDeadline) {\n                break;\n            }\n            if (oneTimerSoftDeadline < nextSoftDeadline) {\n                nextSoftDeadline = oneTimerSoftDeadline;\n            }\n            if (oneTimerHardDeadline < nextHardDeadline) {\n                nextHardDeadline = oneTimerHardDeadline;\n            }\n        }\n        if (nextSoftDeadline < UINT64_MAX && (nextHardDeadline != rlm->_timerHardDeadline || nextSoftDeadline != rlm->_timerSoftDeadline)) {\n            if (CFRUNLOOP_NEXT_TIMER_ARMED_ENABLED()) {\n                CFRUNLOOP_NEXT_TIMER_ARMED((unsigned long)(nextSoftDeadline - mach_absolute_time()));\n            }\n#if USE_DISPATCH_SOURCE_FOR_TIMERS\n            uint64_t leeway = __CFTSRToNanoseconds(nextHardDeadline - nextSoftDeadline);\n            dispatch_time_t deadline = __CFTSRToDispatchTime(nextSoftDeadline);\n#if USE_MK_TIMER_TOO\n            if (leeway > 0) {\n                // æœ‰ tolerance é‡‡ç”¨ _dispatch_source_set_runloop_timer_4CF æ–¹å¼æ³¨å†Œå®šæ—¶å™¨\n                if (rlm->_mkTimerArmed && rlm->_timerPort) {\n                    AbsoluteTime dummy;\n                    mk_timer_cancel(rlm->_timerPort, &dummy);\n                    rlm->_mkTimerArmed = false;\n                }\n                _dispatch_source_set_runloop_timer_4CF(rlm->_timerSource, deadline, DISPATCH_TIME_FOREVER, leeway);\n                rlm->_dispatchTimerArmed = true;\n            } else {\n                // æ²¡æœ‰ tolerance é‡‡ç”¨ RunloopMode çš„ mk_timer æ–¹å¼æ³¨å†Œ mach-port äº‹ä»¶\n                if (rlm->_dispatchTimerArmed) {\n                    _dispatch_source_set_runloop_timer_4CF(rlm->_timerSource, DISPATCH_TIME_FOREVER, DISPATCH_TIME_FOREVER, 888);\n                    rlm->_dispatchTimerArmed = false;\n                }\n                if (rlm->_timerPort) {\n                    mk_timer_arm(rlm->_timerPort, __CFUInt64ToAbsoluteTime(nextSoftDeadline));\n                    rlm->_mkTimerArmed = true;\n                }\n            }\n#else\n            _dispatch_source_set_runloop_timer_4CF(rlm->_timerSource, deadline, DISPATCH_TIME_FOREVER, leeway);\n#endif\n#else\n            if (rlm->_timerPort) {\n                mk_timer_arm(rlm->_timerPort, __CFUInt64ToAbsoluteTime(nextSoftDeadline));\n            }\n#endif\n        } else if (nextSoftDeadline == UINT64_MAX) {\n            // å¦‚æœæ²¡æœ‰å®šæ—¶å™¨å®‰æ’ï¼Œåˆ™è§£é™¤å®šæ—¶å™¨ï¼Œå°† _mkTimerArmed å€¼ç½®ä¸º false\n            if (rlm->_mkTimerArmed && rlm->_timerPort) {\n                AbsoluteTime dummy;\n                mk_timer_cancel(rlm->_timerPort, &dummy);\n                rlm->_mkTimerArmed = false;\n            }\n#if USE_DISPATCH_SOURCE_FOR_TIMERS\n            if (rlm->_dispatchTimerArmed) {\n                _dispatch_source_set_runloop_timer_4CF(rlm->_timerSource, DISPATCH_TIME_FOREVER, DISPATCH_TIME_FOREVER, 333);\n                rlm->_dispatchTimerArmed = false;\n            }\n#endif\n        }\n    }\n    // è®¾ç½® Runloop Mode çš„ä¸¤ä¸ªæˆªæ­¢æ—¶é—´å­—æ®µ Deadline\n    rlm->_timerHardDeadline = nextHardDeadline;\n    rlm->_timerSoftDeadline = nextSoftDeadline;\n}\n")])])]),t("p",[e._v("è¿™ä¸ªæ–¹æ³•ç®€å•æ¥è¯´å°±æ˜¯æ³¨å†Œä¸‹ä¸€ä¸ªéœ€è¦è§¦å‘çš„ Timer äº‹ä»¶åˆ° Runloop ä¸­ã€‚å…¶ä¸­æœ‰é…ç½® tolerance çš„ Timer ä¼šè¢«æ³¨å†Œä¸ºä¸€ä¸ª GCD Timerï¼Œæœªé…ç½® tolerance çš„ Timer æˆªæ­¢æ—¶é—´ä¼šè¢«æ³¨å†Œä¸€ä¸ª mach-port äº‹ä»¶ï¼Œè®¾ç½®åˆ° Runloop Mode ä¸­ã€‚")]),e._v(" "),t("h3",{attrs:{id:"è§¦å‘-timercallback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è§¦å‘-timercallback"}},[e._v("#")]),e._v(" è§¦å‘ TimerCallBack")]),e._v(" "),t("p",[e._v("ç­‰åˆ° Runloop è¢« timer mach-port å”¤é†’æ—¶ï¼Œè°ƒç”¨ __CFRunLoopDoTimers å‡½æ•°ï¼Œç­›é€‰ _fireTSR æ—©äºå½“å‰æ—¶åˆ»çš„ timersï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("static Boolean __CFRunLoopDoTimers(CFRunLoopRef rl, CFRunLoopModeRef rlm, uint64_t limitTSR) {\t/* DOES CALLOUT */\n    Boolean timerHandled = false;\n    CFMutableArrayRef timers = NULL;\n    for (CFIndex idx = 0, cnt = rlm->_timers ? CFArrayGetCount(rlm->_timers) : 0; idx < cnt; idx++) {\n        CFRunLoopTimerRef rlt = (CFRunLoopTimerRef)CFArrayGetValueAtIndex(rlm->_timers, idx);\n        if (__CFIsValid(rlt) && !__CFRunLoopTimerIsFiring(rlt)) {\n            if (rlt->_fireTSR <= limitTSR) {\n                // ç­›é€‰ _fireTSR æ—©äºå½“å‰æ—¶åˆ»çš„ timers\n                if (!timers) timers = CFArrayCreateMutable(kCFAllocatorSystemDefault, 0, &kCFTypeArrayCallBacks);\n                CFArrayAppendValue(timers, rlt);\n            }\n        }\n    }\n    for (CFIndex idx = 0, cnt = timers ? CFArrayGetCount(timers) : 0; idx < cnt; idx++) {\n        CFRunLoopTimerRef rlt = (CFRunLoopTimerRef)CFArrayGetValueAtIndex(timers, idx);\n        // ç­›é€‰åçš„ timer ä¾æ¬¡è°ƒç”¨ __CFRunLoopDoTimer\n        Boolean did = __CFRunLoopDoTimer(rl, rlm, rlt);\n        timerHandled = timerHandled || did;\n    }\n    if (timers) CFRelease(timers);\n    return timerHandled;\n}\n")])])]),t("p",[e._v("æ¥ä¸‹æ¥ timers ä¾æ¬¡è°ƒç”¨ __CFRunLoopDoTimerï¼Œè¿™ä¸ªæ–¹æ³•ä¸­ä¼šè°ƒç”¨ timer çš„ä»»åŠ¡ rlt->_calloutï¼Œé‡æ–°æ’åº timerï¼Œæ³¨å†Œä¸‹ä¸€ä¸ª timerPortã€‚")]),e._v(" "),t("h2",{attrs:{id:"ç»“è®º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è®º"}},[e._v("#")]),e._v(" ç»“è®º")]),e._v(" "),t("p",[e._v("ä»æ·»åŠ  Timer åˆ°è§¦å‘ Timerï¼Œåˆ†æäº† Runloop Mode çš„æ•°æ®ç»“æ„ï¼Œè‡ªå§‹è‡³ç»ˆ CFRunLoopTimer éƒ½åœ¨è¢« Runloop ç®¡ç†ã€‚NSTimer å¯¹è±¡ä»…æ˜¯ Foundation åˆ° CoreFoundation è¡”æ¥çš„å¯¹è±¡ï¼Œé€šè¿‡ NSTimer å¯ä»¥åŒ¹é…æ“ä½œåˆ° CFRunLoopTimerRef å¯¹è±¡ï¼Œè€Œ CoreFoundation çš„å¯¹è±¡å·²ç»ç”±åº•å±‚ CFRetain å’Œ CFRelease æ–¹æ³•æ­£ç¡® Retain å’Œ Releaseã€‚ä¸å­˜åœ¨å¾ªç¯å¼•ç”¨ã€‚")]),e._v(" "),t("h1",{attrs:{id:"end"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#end"}},[e._v("#")]),e._v(" END")])])}),[],!1,null,null,null);n.default=o.exports}}]);